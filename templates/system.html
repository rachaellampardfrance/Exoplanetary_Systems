{% extends "layout.html" %}

{% block title %}
    System
{% endblock %}

{% block pagehead %}
    System
{% endblock %}

{% block main %}
<div id="table-container-system">
    <table class="data-table">
        <thead>
            <tr>
                <th class="table-header" colspan="{{ size + 2 }}">
                    🌌{{ system.name }}🌌<br>
                    {% for star in system.stars %}
                        ☀️
                    {% endfor %}
                    {{ '🪐' * system.num_planets }}
                </th>
            </tr>
        </thead>
        <thead>
            <tr>
                <th class="column-header"></th>
                <th class="column-header" colspan="{{ system.stars|length }}">☀️Stars☀️</th>
                <th></th>
                <th class="column-header" colspan="{{ system.num_planets }}">🪐Planets🪐</th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td></td>
                {% for star in system.stars %}
                <td class="column-header">☀️</td>
                {% endfor %}
                <td></td>
                {% for _ in range(system.num_planets) %}
                <td class="column-header">🪐</td>
                {% endfor %}
            </tr>
            <tr>
                <td class="table-data-catagory">Name</td>
                {% for star in system.stars %}
                <td class="table-data"><a href="{{ url_for('star', star_name=star.name) }}">{{ star.name }}</a></td>
                {% endfor %}
                <td class="table-data-catagory">Name</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="table-data"><a href="{{ url_for('planet', planet_name=planet.name) }}">{{ planet.name }}</a></td>
                        {% endif %}
                    {% endfor%}
                {% endfor %}
            </tr>
            <tr>
                <td class="table-data-catagory">Star Type</td>
                {% for star in system.stars %}
                <td class="table-data">{{ star.full_class_id }}</td>
                {% endfor %}
                <td class="table-data-catagory">Host Star</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="table-data">{{ planet.hostname }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="table-data-catagory">Spectral Class</td>
                {% for star in system.stars %}
                <td class="table-data">
                    {% if star.st_class %}
                        {{ star.st_class}}<br>({{ star.heat }} Kelvin)
                    {% endif %}
                </td>
                {% endfor %}
                <td class="table-data-catagory">Circumbinary</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="table-data">{{ planet.cb_flag }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="table-data-catagory">Class heat<br>(0-9)</td>
                {% for star in system.stars %}
                <td class="table-data">
                    {% if star.sub_class %}
                        {{ star.sub_class }}
                    {% endif %}
                </td>
                {% endfor %}
                <td class="table-data-catagory">Discovery Year<br>(Published)</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="table-data">{{ planet.disc_pubdate }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="table-data-catagory">Luminosity Class</td>
                {% for star in system.stars %}
                <td class="table-data">
                    {% if star.lumin %}
                        {{ star.lumin }}
                    {% endif %}
                </td>
                {% endfor %}
                <td class="table-data-catagory"></td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="table-data"></td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}    
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}
