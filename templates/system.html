{% extends "layout.html" %}

{% block title %}
    System
{% endblock %}

{% block pagehead %}
    System
{% endblock %}

{% block main %}
<div class="table-system">
    <table>
        <thead>
            <tr>
                <th colspan="{{ size + 2 }}">
                    <h2>
                        üåå{{ system.name }}üåå<br>
                        {% for star in system.stars %}
                            ‚òÄÔ∏è
                        {% endfor %}
                        {{ 'ü™ê' * system.num_planets }}
                    </h2>
                </th>
            </tr>
        </thead>
        <thead>
            <tr>
                <th colspan="{{ system.stars|length + 1 }}"><h3>Stars</h3></th>
                <th colspan="{{ system.num_planets + 1 }}"><h3>Planets</h3></th>
            </tr>
        </thead>
        <tbody>
            <tr>
                <td class="catagory"></td>
                {% for star in system.stars %}
                <td>‚òÄÔ∏è</td>
                {% endfor %}
                <td></td>
                {% for _ in range(system.num_planets) %}
                <td>ü™ê</td>
                {% endfor %}
            </tr>
            <tr>
                <td class="catagory">Name</td>
                {% for star in system.stars %}
                <td class="nowrap"><a href="{{ url_for('star', star_name=star.name) }}">{{ star.name }}</a></td>
                {% endfor %}
                <td class="catagory">Name</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td class="nowrap"><a href="{{ url_for('planet', planet_name=planet.name) }}">{{ planet.name }}</a></td>
                        {% endif %}
                    {% endfor%}
                {% endfor %}
            </tr>
            <tr>
                <td class="catagory">Star Type</td>
                {% for star in system.stars %}
                <td>{{ star.full_class_id }}</td>
                {% endfor %}
                <td class="catagory">Host Star</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td>{{ planet.hostname }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="catagory">Spectral Class</td>
                {% for star in system.stars %}
                <td>
                    {% if star.st_class %}
                        {{ star.st_class}}<br>({{ star.heat }} Kelvin)
                    {% endif %}
                </td>
                {% endfor %}
                <td class="catagory">Circumbinary</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td>{{ planet.cb_flag }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="catagory">Class heat<br>(0-9)</td>
                {% for star in system.stars %}
                <td>
                    {% if star.sub_class %}
                        {{ star.sub_class }}
                    {% endif %}
                </td>
                {% endfor %}
                <td class="catagory">Discovery Year<br>(Published)</td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td>{{ planet.disc_pubdate }}</td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}
            </tr>
            <tr>
                <td class="catagory">Luminosity Class</td>
                {% for star in system.stars %}
                <td>
                    {% if star.lumin %}
                        {{ star.lumin }}
                    {% endif %}
                </td>
                {% endfor %}
                <td class="catagory"></td>
                {% for star in system.stars %}
                    {% for planet in star.planets %}
                        {% if planet.declassified != 'Yes' %}
                            <td></td>
                        {% endif %}
                    {% endfor %}
                {% endfor %}    
            </tr>
        </tbody>
    </table>
</div>
{% endblock %}
